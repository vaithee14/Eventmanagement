!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="610b308b-ce77-4ff0-925d-2ac5fe4491da",e._sentryDebugIdIdentifier="sentry-dbid-610b308b-ce77-4ff0-925d-2ac5fe4491da")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{47854:function(e,r,t){t.d(r,{D:function(){return n}});let n=(0,t(52983).createContext)({})},30975:function(e,r,t){t.d(r,{G:function(){return l}});var n=t(52983),c=t(47854);let l=()=>{let e=(0,n.useContext)(c.D);if(!e)throw Error("useFoldersContext must be used within a ProjectsProvider");return e}},1317:function(e,r,t){t.d(r,{b:function(){return n}});let n=(0,t(52983).createContext)({})},40355:function(e,r,t){t.r(r),t.d(r,{MultiSelectProvider:function(){return d}});var n=t(97458),c=t(52983),l=t(30975),s=t(1317);let f=(e,r)=>e.size===r.size&&Array.from(e).every(e=>r.has(e)),u=()=>{let[e,r]=(0,c.useState)(new Set);return{references:e,referenceController:{replaceItemsReference:t=>{f(t,e)||r(t)},deleteItemReference:t=>{let n=new Set(e);n.delete(t)&&r(n)},addItemReference:t=>{let n=new Set(e);n.add(t),f(n,e)||r(n)}}}};var o=function(){let{references:e,referenceController:r}=u(),{references:t,referenceController:n}=u();return{hoverReferences:e,selectReferences:t,hoverReferenceController:r,selectReferenceController:n}};let d=e=>{let{children:r,fatherRef:t}=e,[f,u]=(0,c.useState)(!1),[d,a]=(0,c.useState)(!1),i=(0,c.useRef)(new Set),R=(0,c.useRef)(new Set),w=(0,c.useRef)(null),[S,b]=(0,c.useState)(!1),I=(0,c.useRef)(new Set),m=(0,c.useRef)(new Set),p=(0,c.useRef)(),v=(0,c.useRef)(null),{hoverReferences:h,selectReferences:C,hoverReferenceController:y,selectReferenceController:E}=o(),{hoverReferences:_,selectReferences:g,hoverReferenceController:z,selectReferenceController:D}=o(),{folder:k}=(0,l.G)(),x=(0,c.useMemo)(()=>({deselectAll:()=>{E.replaceItemsReference(new Set),D.replaceItemsReference(new Set),y.replaceItemsReference(new Set),z.replaceItemsReference(new Set)},selectAll:()=>{let e=new Set,r=new Set;I.current.forEach(r=>{e.add(r.dataset.id)}),m.current.forEach(e=>{r.add(e.dataset.id)}),D.replaceItemsReference(e),E.replaceItemsReference(r),y.replaceItemsReference(r),z.replaceItemsReference(e)}}),[I,m,E,D,y,z]);(0,c.useEffect)(()=>{p.current!==(null==k?void 0:k.reference)&&(x.deselectAll(),p.current=null==k?void 0:k.reference)},[k,E,D,y,z,x]),(0,c.useEffect)(()=>{b(C.size+g.size>0&&!d)},[C.size,g.size,d]);let A=(0,c.useMemo)(()=>({isMultiSelecting:f,setIsMultiSelecting:u,isBlockedMultiSelect:d,setIsBlockedMultiSelect:a,selectedItemsRef:i,hoverItemsRef:R,selectBoxRef:w,isSelectMode:S,hoverFilesReference:h,hoverFilesReferenceController:y,selectFilesReference:C,selectFilesReferenceController:E,hoverFoldersReference:_,hoverFoldersReferenceController:z,selectFoldersReference:g,selectFoldersReferenceController:D,multiSelectController:x,foldersRef:I,filesRef:m,barRef:v,fatherRef:t}),[f,d,S,h,C,E,y,g,D,z,_,t,x]);return(0,n.jsx)(s.b.Provider,{value:A,children:r})}}}]);